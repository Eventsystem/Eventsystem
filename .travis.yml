language: csharp
dist: trusty
mono: none
dotnet: 1.0.4
before_install:
- openssl aes-256-cbc -K $encrypted_579e61165889_key -iv $encrypted_579e61165889_iv
  -in serverless-environment-variables.yml.enc -out serverless-environment-variables.yml
  -d
- sudo apt-get -qq update
- sudo apt-get install -y libxml2-dev
before_script:
- npm install -g serverless@1.22.0
script:
- "./build.sh --quiet verify"
branches:
  only:
  - master
  - prod
deploy:
- provider: script
  skip_cleanup: true
  script: "./deploy.sh"
  on:
    all_branches: true
    tags: false
env:
  global:
  - secure: sYoArk9JYM8R2f2Po0akeVOH/eVwYQxK87324eSY5QSv+lM7dZulXAUahKzWuoSfHAT6s3WNTFzBzQJFZrD+aIfhyh3wP1eNABzBJhBRkd1oAJU6CP7G5jaFN6kqwpmdHxe0RWzpTVnLhTu8ljOdkbrmqEIfYlYJXUMEgrPWvFn1UdaNBtJCLqeo8IW9x3Lu8EKyoxhkjRA6MHiQU41xBMnrH5hpOYbpsAzjIJExSEQ+MrcxkC9fginCsRfEOLDYm+9ltPLJW/q5uraO3f98pS74tKpRnHXEYsfxd+JncPDsFHf2FCIytibWHOmdP3roSCr1NkDAiNU3VGR09ZuSbrb5Resi4zROutVvzmf5HgdR/Si4F3e+FZ0qSZAY53ROVX5THbnTtn4PjKe01BHAVG22Rvn2c5RfNT6actR+FbVZdlWW1GCML8TI8NRQ+79Mubh9SUnl+xyFu8eCO2oh1VCzOtEQTGnaNPSjqQ851sEvdi7um+uvxHQSgrNM8cwYuwWwLUrKejAsCVIi7E2urekXYgVlOiL8T9e/x20V8S236K0GA2OZ8Y2oO84wUI8FEtBrkgm0B7CwUcwwZWhbMVIC1fyUcPuJ+mPIh7DquykIcGR7fSbE9p/+wTQMDMZ894MixOToYSuJwAE6oX1qh1lqIZBr4lPRSouOHIjgcj8=
  - secure: ESZkgK7W70EmvfRe9eJswdUhjL5qh/Yu5pYPRiumaIGtoZ/fxtbaWbDblyLRn6/4TkJcSaRQOEATyHuWR7njWSBHkc2UjqIuNVNyVmd3ov0pc82RvGT+Zck0p977X54E0bcDWvo4FM77lju1MD6ykCmdFba/yDr1gMWaS2pPKcqDWmlk+dAVM44zZPmnJKSwS8aK/91NVb3ByT1W03bNSTGU2s3GDve86yQbhz3nX5CGAVsQEJBxl6aORAOQnHKEDf6GJAPUu8j+GFQUqb1qKkLwadjNxgC9sfYu18J4ZVTWB6gyOF1VS8fxXKx+lMzGVV4mGJmBe0gnD545kdZ3drRrL8ntna9q8TSIkyeHGh7P7yDcViQbcZbwaCBNyXD73gEUJO22ufiHyhXXvkF9Sj5GNTmDWrwE4VYfGR7bpU7DTSvJofP+q74BP/Jlk9df2zYxn2BwPqIroq5YAtp8SpLGMPuWY5ui967OKVAvyIS09A0sscuzN2wvkl68i3gZbIKTZgwIl0mBEyAw8Vz7F3X40cikLfYPuL2MUyZXwiEv0+g668bGTn5B79gKM3TNfEEGuPZTpi2mdHzntIOd8J+g1IVkEQvd3fNAWEwrBrkf++06JLnp+idpJjwBveIwWBs4FHU4PjAAoC3Dt0hkLDonw2o4y2B6lDhF0YwYEqk=
  - secure: sXm1uSkX9o9gRQZlqM7pbnc5e9kBsCsg5CWjg7mf7xa/WXOdJubMgbKn1+vs5/8SEnSehY1lp0Q+D9HOcEIiSaOYdkt1qq1a3LkBEmc7CHossIz6JEvMUpTf6bwy4awyvoU3I51SegGTdG3Ya2zHvgCcp5tY6GNrTquaVe0Pbi7LD5Ax20FejtU0zXk8rLVVOBIHCXMbnwMpjoMir0aKXE3AnyC2RtTCJcvIIu/Y3pvMczGZaP3VpkGQ84Cmu+BzEWN//XMqrcmKHTgYJ30nsgYQUgB3EyyAw8JuSW2Vkp99hStdDK4DkyV/KpXHRaBz9qUzo6dDd5SU0nCR3Jy7kjJLgeXUrtX9jTbWgc/j8Gqt44A4pTB7RQub4xvnXGnjlz8ZbkMYo2w5sGxiLQAn4+S3+uaHOGez5IkoLjFLIEv7KAqLRSIjsrGqpbNKGeRCZjTCetuhr73OpCUhH2/zNzaJJAxCJ8fymxkhBXsQfAYqaoIv9gVTphqYDpfWZzS3RyKnDHnGnV26q6NsKYmP1XrtK7ORzHNGzMU2vCTfXfatjICD9X563m37kl6LhlhWf1Dtd+rr29/9Vds+IhQuiXftzUbhjq+Ry3t4cyGoa7uK4LaRUWrAg+QDk+IPjE3no4jIugDncaMx5xxfr1fgTL2Zalz4PhpncQJF11EAG5c=
  - secure: ssbvz+g9f7lgspcss9UpQzI62Y8oAdQ9yDl5eMKsy8dc+jI3RwCQus7a+mbEea5CwOE8oPcv2tLjFzqwNK0aOMJR0WPLvGufCngznrf2HNs7z+NcCk5vHWNSRTNstQcztLokSFXQEeTbx5KVb/LmNCPc6skcc3k7tzqDNoEnAdXDl/v8wWnuqdkYBeXGKUNGdj0+HC/mmSqC482db86eHCx3VUFApjmDJYLC+x+DGpNhs7ukrr6AnfzyduHTku0xB+UniN2u2biTlHibjuqTUYoM516xYqhhTu+qCxWWupFz55C83kXo1HagTLU0rNENI+iWuhlJsmSDHDNED6/zZ1riSH2ZFxZw7WHHmLjRXBvoduq87NSCnyrVI9LYBkYHRa0y9KoKwmmfP8aJxGMg05OaT3B5mOoa4fbZrSoADaIkf+3JwsgkI4Gl0TXF/2I8xzBf7+MB9CBPGlUmaeSIH1j1mcnlTns5o1acjWmjOibf6W28Ae4xMNj7Ya/7iKhumiMk55KXm54jMhD1ED11ZrLg/83RZbvdbsd6JX/AhvMfUkO7RFDw5FfclHgce9A9PafPcX0IhKt0x6kTP9pe4ykzAZCaFUUbDH2xhQEZhMZRAXXCHV+oDtlcERLBOwp8Gtsa+mlHHxIqcvgxED+LDQ4dSI7WKESfoRCkehwn0DY=
